# Telegram-to-YouTube Shorts

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Telegram –∫–∞–Ω–∞–ª–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è YouTube Shorts —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤ YouTube.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö Telegram –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ bot API
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ)
- ‚úÖ LLM-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ SEO –¥–∞–Ω–Ω—ã—Ö (Google Gemini)
- ‚úÖ **–î–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –≤–∏–¥–µ–æ:**
  - **V1 (MoviePy):** –°—Ç–∞–±–∏–ª—å–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π
    - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (zoom-in —ç—Ñ—Ñ–µ–∫—Ç)
    - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é
    - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏—è
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—É–¥–∏–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ
  - **V2 (HTML+Selenium):** –ù–æ–≤—ã–π, —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
    - HTML/CSS —à–∞–±–ª–æ–Ω—ã —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–∏–∑–∞–π–Ω–∞
    - –°–ª–æ–∂–Ω—ã–µ CSS –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
    - –ù–æ–≤–æ—Å—Ç–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç: –∑–∞–≥–æ–ª–æ–≤–æ–∫ + –º–µ–¥–∏–∞ + –æ–ø–∏—Å–∞–Ω–∏–µ
    - –î–æ 59 —Å–µ–∫—É–Ω–¥ –≤–∏–¥–µ–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ YouTube —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –•–µ—à—Ç–µ–≥–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ (3 —à—Ç.) –∏ –æ–ø–∏—Å–∞–Ω–∏–∏ (5 —à—Ç.)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–µ (–¥–ª—è V1):
- Python 3.11+
- Google Gemini API key
- Telegram Bot API token
- YouTube Data API v3 credentials
- FFmpeg (–¥–ª—è MoviePy)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–¥–ª—è V2):
- Selenium WebDriver
- ChromeDriver (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –≤–µ—Ä—Å–∏–µ–π Chrome)
- OpenCV (opencv-python)

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone <repository-url>
cd Telegram-to-YouTube-Shorts
python -m venv .venv
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# Telegram API (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://my.telegram.org/apps)
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHANNEL=-1001234567890  # ID –∫–∞–Ω–∞–ª–∞

# Google Gemini API (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://aistudio.google.com/app/apikey)
GEMINI_API_KEY=your_gemini_api_key

# YouTube API (—Å–æ–∑–¥–∞—Ç—å –≤ Google Cloud Console)
YOUTUBE_CLIENT_SECRET_FILE=client_secret_xxx.json
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YouTube API

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–∫–ª—é—á–∏—Ç–µ YouTube Data API v3
3. –°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 credentials (Desktop application)
4. –°–∫–∞—á–∞–π—Ç–µ JSON —Ñ–∞–π–ª –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
5. –û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç—å –≤ `.env`

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
mkdir -p resources/{music,fonts,tmp,default_backgrounds}
mkdir -p outputs
mkdir -p state

# –î–æ–±–∞–≤—å—Ç–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ resources/music/
# –î–æ–±–∞–≤—å—Ç–µ —à—Ä–∏—Ñ—Ç—ã –≤ resources/fonts/ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Arsenal-Bold.ttf)
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≤–∞—à –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

### 6. –ó–∞–ø—É—Å–∫

```bash
python main_script.py
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è YouTube.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

–í `config.ini` –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –¥–≤—É–º—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏:

```ini
[VIDEO]
# –í–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞: v1 (MoviePy) –∏–ª–∏ v2 (HTML+Selenium)
generator_version = v1  # –∏–ª–∏ v2

# === –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è V1 (MoviePy) ===
duration_seconds = 8
width = 1080
height = 1920
# –¶–≤–µ—Ç–∞ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
middle_red_rgb = 180,30,30
header_zoom_start = 1.05
header_zoom_end = 1.00
# –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏—è
heartbeat_enabled = true
heartbeat_cycle_seconds = 1.6

[LLM]
gemini_model = gemini-2.0-flash-exp

[YOUTUBE]
privacy_status = private
category_id = 25  # News & Politics
```

## –î–µ–ø–ª–æ–π –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä

### Systemd service

–°–æ–∑–¥–∞–π—Ç–µ `/etc/systemd/system/telegram-shorts.service`:

```ini
[Unit]
Description=Telegram to YouTube Shorts Bot
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/Telegram-to-YouTube-Shorts
Environment=PATH=/home/ubuntu/Telegram-to-YouTube-Shorts/.venv/bin
ExecStart=/home/ubuntu/Telegram-to-YouTube-Shorts/.venv/bin/python main_script.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt update
sudo apt install python3-pip python3-venv ffmpeg

# –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞
git clone <repository-url>
cd Telegram-to-YouTube-Shorts
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞
cp example.env .env
nano .env

# –ó–∞–ø—É—Å–∫ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å
sudo systemctl enable telegram-shorts.service
sudo systemctl start telegram-shorts.service
sudo systemctl status telegram-shorts.service

# –õ–æ–≥–∏
sudo journalctl -u telegram-shorts.service -f
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ main_script.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ config.ini                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ services/                   # –ú–æ–¥—É–ª–∏ —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py        # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ llm_provider.py         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini
‚îÇ   ‚îú‚îÄ‚îÄ telegram_monitor.py     # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Telegram
‚îÇ   ‚îú‚îÄ‚îÄ video_generator.py      # –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ
‚îÇ   ‚îî‚îÄ‚îÄ youtube_uploader.py     # –ó–∞–≥—Ä—É–∑–∫–∞ –≤ YouTube
‚îú‚îÄ‚îÄ resources/                  # –†–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ music/                  # –ê—É–¥–∏–æ—Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ fonts/                  # –®—Ä–∏—Ñ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ tmp/                    # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ outputs/                    # –ì–æ—Ç–æ–≤—ã–µ –≤–∏–¥–µ–æ
‚îî‚îÄ‚îÄ state/                      # –°–µ—Å—Å–∏–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–≤–æ—Ç–∞–º–∏ Gemini
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `gemini-2.0-flash-exp` –≤–º–µ—Å—Ç–æ `gemini-1.5-flash`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –Ω–∞ [Google AI Studio](https://aistudio.google.com/)

### –ü—Ä–æ–±–ª–µ–º—ã —Å Telegram
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∫–∞–Ω–∞–ª–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –∫–∞–Ω–∞–ª–∞ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)

### –ü—Ä–æ–±–ª–µ–º—ã —Å YouTube
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Google Cloud Console
- –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ "In testing"
- –£–¥–∞–ª–∏—Ç–µ `token.json` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å V2 (HTML+Selenium)
- **"selenium is not installed"**: `pip install selenium`
- **"ChromeDriver not found"**: –°–∫–∞—á–∞–π—Ç–µ ChromeDriver —Å https://chromedriver.chromium.org/
- **–í–∏–¥–µ–æ –±–µ–∑ –∑–≤—É–∫–∞**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ffmpeg –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ PATH
- **–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `v2_headless = false` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìñ **[VIDEO_DESIGN_ARCHITECTURE.md](VIDEO_DESIGN_ARCHITECTURE.md)** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤
- üöÄ **[QUICK_START_V2.md](QUICK_START_V2.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º V2
- üß™ **[DEV_SANDBOX.md](DEV_SANDBOX.md)** - –ü–µ—Å–æ—á–Ω–∏—Ü–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤:
```bash
python test_video_versions.py
```

### –ó–∞–ø—É—Å–∫ –≤ dev –ø–µ—Å–æ—á–Ω–∏—Ü–µ:
```bash
python run_sandbox_test.py
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. LICENSE —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.