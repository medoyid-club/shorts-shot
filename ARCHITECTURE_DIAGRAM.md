# Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

## ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MAIN_SCRIPT.PY                          â”‚
â”‚                    (Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       CONFIG_LOADER                             â”‚
â”‚               (Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° config.ini/config.dev.ini)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       VIDEO_FACTORY.PY                          â”‚
â”‚                    (Ğ¤Ğ°Ğ±Ñ€Ğ¸ĞºĞ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²)                        â”‚
â”‚                                                                 â”‚
â”‚  generator_version = config['VIDEO']['generator_version']      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ if version == v1  â”‚              â”‚ if version == v2 â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚           â”‚                                   â”‚                 â”‚
â”‚           â–¼                                   â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  VideoComposer    â”‚              â”‚ VideoComposerV2  â”‚       â”‚
â”‚  â”‚   (MoviePy)       â”‚              â”‚ (HTML+Selenium)  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚           â”‚                                   â”‚                 â”‚
â”‚           â–¼                                   â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ LLM Provider V1   â”‚              â”‚ LLM Provider V2  â”‚       â”‚
â”‚  â”‚  (Gemini API)     â”‚              â”‚  (Gemini API)    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Ğ“Ğ•ĞĞ•Ğ ĞĞ¢ĞĞ  Ğ’Ğ˜Ğ”Ğ•Ğ                         â”‚
â”‚                    (composer.compose(...))                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        YOUTUBE/TELEGRAM                         â”‚
â”‚                   (Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## V1: MoviePy Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VIDEO GENERATOR V1                          â”‚
â”‚                     (video_generator.py)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼              â–¼              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   HEADER    â”‚ â”‚   MIDDLE    â”‚ â”‚   FOOTER    â”‚
        â”‚  (40% video)â”‚ â”‚  (50% text) â”‚ â”‚(10% source) â”‚
        â”‚             â”‚ â”‚             â”‚ â”‚             â”‚
        â”‚  â€¢ Zoom In  â”‚ â”‚ â€¢ Heartbeat â”‚ â”‚ â€¢ Static    â”‚
        â”‚  â€¢ Media    â”‚ â”‚ â€¢ Animated  â”‚ â”‚ â€¢ Text      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LLM PROVIDER V1                           â”‚
â”‚                     (llm_provider.py)                            â”‚
â”‚                                                                  â”‚
â”‚  summarize_for_video(text) -> str                               â”‚
â”‚  â”œâ”€ ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚: "Create summary (max 180 chars)"                    â”‚
â”‚  â””â”€ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: "ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚..."                              â”‚
â”‚                                                                  â”‚
â”‚  generate_seo_package(text) -> dict                             â”‚
â”‚  â”œâ”€ title: "Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº + #Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¸"                               â”‚
â”‚  â”œâ”€ description: "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ + #Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¸"                          â”‚
â”‚  â””â”€ tags: ["Ñ‚ĞµĞ³1", "Ñ‚ĞµĞ³2", ...]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MoviePy Render   â”‚
                    â”‚   â€¢ Compositing    â”‚
                    â”‚   â€¢ Effects        â”‚
                    â”‚   â€¢ Audio mix      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                         OUTPUT.mp4
                         (5-10 sec)
```

## V2: HTML+Selenium Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VIDEO GENERATOR V2                          â”‚
â”‚                   (video_generator_v2.py)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼              â–¼              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   HEADER    â”‚ â”‚   CONTENT   â”‚ â”‚   FOOTER    â”‚
        â”‚  (Source)   â”‚ â”‚ (Title+Mediaâ”‚ â”‚  (Date)     â”‚
        â”‚             â”‚ â”‚  +Brief)    â”‚ â”‚             â”‚
        â”‚ â€¢ Badge     â”‚ â”‚ â€¢ Animationsâ”‚ â”‚ â€¢ Timestamp â”‚
        â”‚ â€¢ FadeIn    â”‚ â”‚ â€¢ ScaleIn   â”‚ â”‚ â€¢ FadeIn    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LLM PROVIDER V2                           â”‚
â”‚                    (llm_provider_v2.py)                          â”‚
â”‚                                                                  â”‚
â”‚  summarize_for_video(text) -> dict                              â”‚
â”‚  â”œâ”€ generate_news_title()                                       â”‚
â”‚  â”‚  â””â”€ ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚: "Create title (15-25 words)"                     â”‚
â”‚  â””â”€ generate_news_brief()                                       â”‚
â”‚     â””â”€ ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚: "Create brief (2-3 sentences)"                   â”‚
â”‚                                                                  â”‚
â”‚  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:                                                      â”‚
â”‚  {                                                               â”‚
â”‚    'title': "Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸...",                             â”‚
â”‚    'brief': "ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ..."                               â”‚
â”‚  }                                                               â”‚
â”‚                                                                  â”‚
â”‚  generate_seo_package(text) -> dict                             â”‚
â”‚  â”œâ”€ title: "SEO Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº"                                      â”‚
â”‚  â”œâ”€ description: "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ + #Ñ…ĞµÑˆÑ‚ĞµĞ³Ğ¸"                          â”‚
â”‚  â””â”€ tags: ["Ñ‚ĞµĞ³1", "Ñ‚ĞµĞ³2", ...]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     HTML TEMPLATE ENGINE                         â”‚
â”‚                (news_short_v2.html + data)                       â”‚
â”‚                                                                  â”‚
â”‚  ĞŸĞ»ĞµĞ¹ÑÑ…Ğ¾Ğ»Ğ´ĞµÑ€Ñ‹:                                                   â”‚
â”‚  â€¢ {{NEWS_TITLE}}    -> title                                   â”‚
â”‚  â€¢ {{NEWS_BRIEF}}    -> brief                                   â”‚
â”‚  â€¢ {{NEWS_IMAGE}}    -> file:///path/to/image                   â”‚
â”‚  â€¢ {{NEWS_VIDEO}}    -> file:///path/to/video                   â”‚
â”‚  â€¢ {{SOURCE_NAME}}   -> t.me/channel                            â”‚
â”‚  â€¢ {{PUBLISH_DATE}}  -> 25.10.2025                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SELENIUM WEBDRIVER                          â”‚
â”‚                    (Chrome Headless/GUI)                         â”‚
â”‚                                                                  â”‚
â”‚  1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ HTML Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ                                     â”‚
â”‚  2. Ğ–Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ (ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹, Ğ¼ĞµĞ´Ğ¸Ğ°)                              â”‚
â”‚  3. Ğ—Ğ°Ñ…Ğ²Ğ°Ñ‚Ğ¸Ñ‚ÑŒ ĞºĞ°Ğ´Ñ€Ñ‹ (fps * duration)                            â”‚
â”‚  4. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹ -> frames[]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      OPENCV VIDEO EXPORT                         â”‚
â”‚                                                                  â”‚
â”‚  frames[] -> cv2.VideoWriter -> silent.mp4                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FFMPEG AUDIO                             â”‚
â”‚                                                                  â”‚
â”‚  silent.mp4 + music.mp3 -> OUTPUT.mp4                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                         OUTPUT.mp4
                         (Ğ´Ğ¾ 59 sec)
```

## Ğ¤Ğ°Ğ±Ñ€Ğ¸ĞºĞ° (Factory Pattern)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        video_factory.py                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

def create_video_generator(config) -> VideoComposer | VideoComposerV2
    â”‚
    â”œâ”€ version = config['VIDEO']['generator_version']
    â”‚
    â”œâ”€ if version == 'v2':
    â”‚  â”‚
    â”‚  â”œâ”€ try:
    â”‚  â”‚   â””â”€ return VideoComposerV2(config)  âœ¨
    â”‚  â”‚
    â”‚  â””â”€ except ImportError:
    â”‚      â””â”€ fallback to V1  âš ï¸
    â”‚
    â””â”€ else (v1 or default):
        â””â”€ return VideoComposer(config)  ğŸ“¹


def create_llm_provider(config) -> GeminiProvider | GeminiProviderV2
    â”‚
    â”œâ”€ version = config['VIDEO']['generator_version']
    â”‚
    â”œâ”€ if version == 'v2':
    â”‚  â”‚
    â”‚  â”œâ”€ try:
    â”‚  â”‚   â””â”€ return GeminiProviderV2(config)  ğŸ¤–
    â”‚  â”‚
    â”‚  â””â”€ except ImportError:
    â”‚      â””â”€ fallback to V1  âš ï¸
    â”‚
    â””â”€ else (v1 or default):
        â””â”€ return GeminiProvider(config)  ğŸ¤–
```

## ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ (config.ini)

```ini
[VIDEO]
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  ĞŸĞ•Ğ Ğ•ĞšĞ›Ğ®Ğ§ĞĞ¢Ğ•Ğ›Ğ¬ Ğ’Ğ•Ğ Ğ¡Ğ˜Ğ™                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
generator_version = v1  # Ğ¸Ğ»Ğ¸ v2

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ V1 (MoviePy)              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
duration_seconds = 5
width = 1080
height = 1920
header_ratio = 0.4
middle_ratio = 0.5
footer_ratio = 0.1
heartbeat_enabled = true
...

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ V2 (HTML+Selenium)        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
v2_template_path = resources/templates/news_short_v2.html
v2_fps = 30
v2_duration_seconds = 59
v2_capture_method = sync_video
v2_headless = true
```

## Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

```
Telegram â†’ main_script.py
              â”‚
              â”œâ”€â†’ config_loader.load_config()
              â”‚     â””â”€â†’ config.ini / config.dev.ini
              â”‚
              â”œâ”€â†’ video_factory.create_video_generator(config)
              â”‚     â”‚
              â”‚     â”œâ”€â†’ [v1] VideoComposer(config)
              â”‚     â”‚     â””â”€â†’ MoviePy pipeline
              â”‚     â”‚
              â”‚     â””â”€â†’ [v2] VideoComposerV2(config)
              â”‚           â””â”€â†’ HTML+Selenium pipeline
              â”‚
              â”œâ”€â†’ video_factory.create_llm_provider(config)
              â”‚     â”‚
              â”‚     â”œâ”€â†’ [v1] GeminiProvider
              â”‚     â”‚     â””â”€â†’ ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ€ĞµĞ·ÑĞ¼Ğµ
              â”‚     â”‚
              â”‚     â””â”€â†’ [v2] GeminiProviderV2
              â”‚           â””â”€â†’ ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
              â”‚
              â”œâ”€â†’ llm.summarize_for_video(text)
              â”‚     â”‚
              â”‚     â”œâ”€â†’ [v1] return str
              â”‚     â””â”€â†’ [v2] return dict{title, brief}
              â”‚
              â”œâ”€â†’ composer.compose(short_text, media_path, ...)
              â”‚     â”‚
              â”‚     â”œâ”€â†’ [v1] MoviePy render â†’ output.mp4
              â”‚     â””â”€â†’ [v2] Selenium capture â†’ output.mp4
              â”‚
              â””â”€â†’ YouTube / Telegram upload
```

## Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (Ğ´ĞµÑ€ĞµĞ²Ğ¾ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹)

```
main_script.py
  â”‚
  â”œâ”€â†’ services/video_factory.py
  â”‚     â”‚
  â”‚     â”œâ”€â†’ services/video_generator.py (V1)
  â”‚     â”‚     â””â”€â†’ moviepy
  â”‚     â”‚
  â”‚     â”œâ”€â†’ services/video_generator_v2.py (V2)
  â”‚     â”‚     â”œâ”€â†’ selenium
  â”‚     â”‚     â”œâ”€â†’ opencv-python
  â”‚     â”‚     â””â”€â†’ resources/templates/news_short_v2.html
  â”‚     â”‚
  â”‚     â”œâ”€â†’ services/llm_provider.py (V1)
  â”‚     â”‚     â””â”€â†’ google-genai
  â”‚     â”‚
  â”‚     â””â”€â†’ services/llm_provider_v2.py (V2)
  â”‚           â””â”€â†’ google-genai
  â”‚
  â”œâ”€â†’ services/telegram_monitor.py
  â”‚     â””â”€â†’ telethon
  â”‚
  â””â”€â†’ services/youtube_uploader.py
        â””â”€â†’ google-api-python-client
```

## ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### V1 Data Flow
```
Telegram Message
    â”‚
    â”œâ”€ text: str
    â””â”€ media_path: str | None
         â”‚
         â–¼
    LLM V1
         â”‚
         â”œâ”€ summarize_for_video() â†’ str (short_text)
         â””â”€ generate_seo_package() â†’ dict{title, description, tags}
              â”‚
              â–¼
         VideoComposer V1
              â”‚
              â”œâ”€ header: media + zoom
              â”œâ”€ middle: short_text + heartbeat
              â””â”€ footer: source
                   â”‚
                   â–¼
              MoviePy Compositing
                   â”‚
                   â–¼
              output.mp4 (5-10s)
                   â”‚
                   â–¼
              YouTube / Telegram
```

### V2 Data Flow
```
Telegram Message
    â”‚
    â”œâ”€ text: str
    â””â”€ media_path: str | None
         â”‚
         â–¼
    LLM V2
         â”‚
         â”œâ”€ summarize_for_video() â†’ dict{title, brief}
         â””â”€ generate_seo_package() â†’ dict{title, description, tags}
              â”‚
              â–¼
         VideoComposerV2
              â”‚
              â”œâ”€ create HTML (template + data)
              â”œâ”€ load in Selenium
              â”œâ”€ capture frames (fps * duration)
              â”œâ”€ export with OpenCV
              â””â”€ add audio with ffmpeg
                   â”‚
                   â–¼
              output.mp4 (Ğ´Ğ¾ 59s)
                   â”‚
                   â–¼
              YouTube / Telegram
```

---

**Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°:**
- ğŸ“¹ V1 (MoviePy)
- âœ¨ V2 (HTML+Selenium)
- ğŸ¤– LLM Provider
- âš ï¸ Fallback
- â–¼ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- â””â”€â†’ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ

